<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<title data-react-helmet="true">Options | Amplitude JS SDK Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Options | Amplitude JS SDK Docs"><meta data-react-helmet="true" name="description" content="Options"><meta data-react-helmet="true" property="og:description" content="Options"><meta data-react-helmet="true" property="og:url" content="https://amplitude.github.io/Amplitude-JavaScript/Options"><link data-react-helmet="true" rel="shortcut icon" href="/Amplitude-JavaScript/img/amp_favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://amplitude.github.io/Amplitude-JavaScript/Options"><link rel="stylesheet" href="/Amplitude-JavaScript/styles.fe2ddc44.css">
<link rel="preload" href="/Amplitude-JavaScript/styles.949f130f.js" as="script">
<link rel="preload" href="/Amplitude-JavaScript/runtime~main.c11609e0.js" as="script">
<link rel="preload" href="/Amplitude-JavaScript/main.47847b8a.js" as="script">
<link rel="preload" href="/Amplitude-JavaScript/common.cfd7e764.js" as="script">
<link rel="preload" href="/Amplitude-JavaScript/2.fe3dba2f.js" as="script">
<link rel="preload" href="/Amplitude-JavaScript/12.7d2f843e.js" as="script">
<link rel="preload" href="/Amplitude-JavaScript/dfcb7c4c.51d9558c.js" as="script">
<link rel="preload" href="/Amplitude-JavaScript/17896441.f14cb58e.js" as="script">
<link rel="preload" href="/Amplitude-JavaScript/77234ab5.fd498097.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_3046"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/Amplitude-JavaScript/"><img class="navbar__logo" src="/Amplitude-JavaScript/img/amp_logo.svg" alt="Amplitude Logo"><strong class="navbar__title"></strong></a><a href="https://github.com/amplitude/Amplitude-JavaScript/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/Amplitude-JavaScript/"><img class="navbar__logo" src="/Amplitude-JavaScript/img/amp_logo.svg" alt="Amplitude Logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/amplitude/Amplitude-JavaScript/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC sidebarWithHideableNavbar_2IoJ"><a tabindex="-1" class="sidebarLogo_Snse" href="/Amplitude-JavaScript/"><img src="/Amplitude-JavaScript/img/amp_logo.svg" alt="Amplitude Logo"><strong></strong></a><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">API Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Amplitude-JavaScript/">AmplitudeClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Amplitude-JavaScript/Amplitude">Amplitude</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Amplitude-JavaScript/Identify">Identify</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Amplitude-JavaScript/Revenue">Revenue</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/Amplitude-JavaScript/Options">Options</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Options</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="options"></a><code>Options</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#options" title="Direct link to heading">#</a></h2><p>Options used when initializing Amplitude</p><table><thead><tr><th>Option</th><th>Type</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td>apiEndpoint</td><td>string</td><td><code>api.amplitude.com</code></td><td>Endpoint to send amplitude event requests to.</td></tr><tr><td>batchEvents</td><td>string</td><td><code>false</code></td><td>If <code>true</code>, then events are batched together and uploaded only when the number of unsent events is greater than or equal to eventUploadThreshold or after eventUploadPeriodMillis milliseconds have passed since the first unsent event was logged.</td></tr><tr><td>cookieExpiration</td><td>string</td><td><code>365</code></td><td>The number of days after which the Amplitude cookie will expire. 12 months is for GDPR compliance.</td></tr><tr><td>cookieName</td><td>string</td><td><code>amplitude_id</code></td><td><em>DEPRECATED</em></td></tr><tr><td>sameSiteCookie</td><td>string</td><td>&#x27;None&#x27;</td><td>Sets the SameSite flag on the amplitude cookie. Decides cookie privacy policy.</td></tr><tr><td>cookieForceUpgrade</td><td>string</td><td><code>false</code></td><td>Forces pre-v6.0.0 instances to adopt post-v6.0.0 compat cookie formats.</td></tr><tr><td>deferInitialization</td><td>string</td><td><code>null</code></td><td>If <code>true</code>, disables the core functionality of the sdk, including saving a cookie and all logging, until explicitly enabled. To enable tracking, please call <code>amplitude.getInstance().enableTracking()</code> <em>Note: This will not affect users who already have an amplitude cookie. The decision to track events is determined by whether or not a user has an amplitude analytics cookie. If the <code>cookieExpiration&lt;/code&gt; is manually defined to be a short lifespan, you may need to run </code>amplitude.getInstance().enableTracking()` upon the cookie expiring or upon logging in.</em></td></tr><tr><td>disableCookies</td><td>string</td><td><code>false</code></td><td>Disable Ampllitude cookies altogether.</td></tr><tr><td>deviceId</td><td>string</td><td>A randomly generated UUID.</td><td>The custom Device ID to set. <em>Note: This is not recommended unless you know what you are doing (e.g. you have your own system for tracking user devices).</em></td></tr><tr><td>deviceIdFromUrlParam</td><td>string</td><td><code>false</code></td><td>If <code>true</code>, then the SDK will parse Device ID values from the URL parameter amp_device_id if available. Device IDs defined in the configuration options during init will take priority over Device IDs from URL parameters.</td></tr><tr><td>domain</td><td>string</td><td>The top domain of the current page&#x27;s URL. (&#x27;<a href="https://amplitude.com&#x27;" target="_blank" rel="noopener noreferrer">https://amplitude.com&#x27;</a>)</td><td>Set a custom domain for the Amplitude cookie. To include subdomains, add a preceding period, eg: <code>.amplitude.com</code>.</td></tr><tr><td>eventUploadPeriodMillis</td><td>string</td><td><code>30000</code> (30 sec)</td><td>Amount of time in milliseconds that the SDK waits before uploading events if batchEvents is true.</td></tr><tr><td>eventUploadThreshold</td><td>string</td><td><code>30</code></td><td>Minimum number of events to batch together per request if batchEvents is true.</td></tr><tr><td>forceHttps</td><td>string</td><td><code>true</code></td><td>If <code>true</code>, the events will always be uploaded to HTTPS endpoint. Otherwise, it will use the embedding site&#x27;s protocol.</td></tr><tr><td>includeFbclid</td><td>string</td><td><code>false</code></td><td>If <code>true</code>, captures the fbclid URL parameter as well as the user&#x27;s initial_fbclid via a setOnce operation.</td></tr><tr><td>includeGclid</td><td>string</td><td><code>false</code></td><td>If <code>true</code>, captures the gclid URL parameter as well as the user&#x27;s initial_gclid via a setOnce operation.</td></tr><tr><td>includeReferrer</td><td>string</td><td><code>false</code></td><td>If <code>true</code>, captures the referrer and referring_domain for each session, as well as the user&#x27;s initial_referrer and initial_referring_domain via a setOnce operation.</td></tr><tr><td>includeUtm</td><td>string</td><td><code>false</code></td><td>If <code>true</code>, finds UTM parameters in the query string or the _utmz cookie, parses, and includes them as user properties on all events uploaded. This also captures initial UTM parameters for each session via a setOnce operation.</td></tr><tr><td>language</td><td>string</td><td>The language determined by the browser</td><td>Custom language to set.</td></tr><tr><td>library</td><td>string</td><td><code>{ name: &#x27;amplitude-js&#x27;, version: packageJsonVersion }</code></td><td>Values for the library version</td></tr><tr><td>logLevel</td><td>string</td><td><code>WARN</code></td><td>Level of logs to be printed in the developer console. Valid values are &#x27;DISABLE&#x27;, &#x27;ERROR&#x27;, &#x27;WARN&#x27;, &#x27;INFO&#x27;. To learn more about the different options, see below.</td></tr><tr><td>logAttributionCapturedEvent</td><td>string</td><td><code>false</code></td><td>If <code>true</code>, the SDK will log an Amplitude event anytime new attribution values are captured from the user. <strong>Note: These events count towards your event volume.</strong> Event name being logged: [Amplitude] Attribution Captured. Event Properties that can be logged: <code>utm_source</code>, <code>utm_medium</code>, <code>utm_campaign</code>, <code>utm_term</code>, <code>utm_content</code>, <code>referrer</code>, <code>referring_domain</code>, <code>gclid</code>, <code>fbclid</code>. For UTM properties to be logged, <code>includeUtm</code> must be set to <code>true</code>. For the <code>referrer</code> and <code>referring_domain</code> properties to be logged, <code>includeReferrer</code> must be set to <code>true</code>. For the <code>gclid</code> property to be logged, <code>includeGclid</code> must be set to <code>true</code>. For the <code>fbclid</code> property to be logged, <code>includeFbclid</code> must be set to <code>true</code>.</td></tr><tr><td>optOut</td><td>string</td><td><code>false</code></td><td>Whether or not to disable tracking for the current user.</td></tr><tr><td>onError</td><td>string</td><td><code>() =&gt; {}</code></td><td>Function to call on error.</td></tr><tr><td>onExitPage</td><td>string</td><td><code>() =&gt; {}</code></td><td>Function called when the user exits the browser. Useful logging on page exit.</td></tr><tr><td>plan</td><td>string</td><td></td><td>Tracking plan properties</td></tr><tr><td>plan.branch</td><td>string</td><td></td><td>The tracking plan branch name e.g. &quot;main&quot;</td></tr><tr><td>plan.source</td><td>string</td><td></td><td>The tracking plan source e.g. &quot;web&quot;</td></tr><tr><td>plan.version</td><td>string</td><td></td><td>The tracking plan version e.g. &quot;1&quot;, &quot;15&quot;</td></tr><tr><td>platform</td><td>string</td><td><code>Web</code></td><td>Platform device is running on. Defaults to <code>Web</code> (browser, including mobile browsers).</td></tr><tr><td>savedMaxCount</td><td>string</td><td><code>1000</code></td><td>Maximum number of events to save in localStorage. If more events are logged while offline, then old events are removed.</td></tr><tr><td>saveEvents</td><td>string</td><td><code>true</code></td><td>If <code>true</code>, saves events to localStorage and removes them upon successful upload. <em>Note: Without saving events, events may be lost if the user navigates to another page before the events are uploaded.</em></td></tr><tr><td>saveParamsReferrerOncePerSession</td><td>string</td><td><code>true</code></td><td>If <code>true</code>, then includeGclid, includeFbclid, includeReferrer, and includeUtm will only track their respective properties once per session. New values that come in during the middle of the user&#x27;s session will be ignored. Set to false to always capture new values.</td></tr><tr><td>secureCookie</td><td>string</td><td><code>false</code></td><td>If <code>true</code>, the amplitude cookie will be set with the Secure flag.</td></tr><tr><td>sessionTimeout</td><td>string</td><td><code>30*60*1000</code> (30 min)</td><td>The time between logged events before a new session starts in milliseconds.</td></tr><tr><td>storage</td><td>string</td><td><code>&#x27;&#x27;</code></td><td>Sets storage strategy. Options are &#x27;cookies&#x27;, &#x27;localStorage&#x27;, &#x27;sessionStorage&#x27;, or <code>none</code>. Will override <code>disableCookies</code> option</td></tr><tr><td>trackingOptions</td><td>string</td><td><code>{ city: true, country: true, carrier: true, device_manufacturer: true, device_model: true, dma: true, ip_address: true, language: true, os_name: true, os_version: true, platform: true, region: true, version_name: true}</code></td><td>Type of data associated with a user.</td></tr><tr><td>transport</td><td>string</td><td><code>http</code></td><td>Network transport mechanism used to send events. Options are &#x27;http&#x27; and &#x27;beacon&#x27;.</td></tr><tr><td>unsetParamsReferrerOnNewSession</td><td>string</td><td><code>false</code></td><td>If <code>false</code>, the existing <code>referrer</code> and <code>utm_parameter</code> values will be carried through each new session. If set to <code>true</code>, the <code>referrer</code> and <code>utm_parameter</code> user properties, which include <code>referrer</code>, <code>utm_source</code>, <code>utm_medium</code>, <code>utm_campaign</code>, <code>utm_term</code>, and <code>utm_content</code>, will be set to <code>null</code> upon instantiating a new session. Note: This only works if <code>includeReferrer</code> or <code>includeUtm</code> is set to <code>true</code>.</td></tr><tr><td>unsentKey</td><td>string</td><td><code>amplitude_unsent</code></td><td>localStorage key that stores unsent events.</td></tr><tr><td>unsentIdentifyKey</td><td>string</td><td><code>amplitude_unsent_identify</code></td><td>localStorage key that stores unsent identifies.</td></tr><tr><td>uploadBatchSize</td><td>string</td><td><code>100</code></td><td>The maximum number of events to send to the server per request.</td></tr><tr><td>headers</td><td>string</td><td><code>{ &#x27;Content-Type&#x27;: &#x27;application/x-www-form-urlencoded; charset=UTF-8&#x27; }</code></td><td>Headers attached to an event(s) upload network request. Custom header properties are merged with this object.</td></tr><tr><td>serverZone</td><td>string</td><td></td><td>For server zone related configuration, used for server api endpoint and dynamic configuration.</td></tr><tr><td>useDynamicConfig</td><td>string</td><td></td><td>Enable dynamic configuration to find best server url for user.</td></tr><tr><td>serverZoneBasedApi</td><td>string</td><td></td><td>To update api endpoint with serverZone change or not. For data residency, recommend to enable it unless using own proxy server.</td></tr></tbody></table></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/amplitude/Amplitude-JavaScript/website/docs/Options.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Amplitude-JavaScript/Revenue"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Revenue</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#options" class="table-of-contents__link"><code>Options</code></a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="Amplitude Logo" src="/Amplitude-JavaScript/img/amp_logo.svg"></div><div>Copyright Â© 2021 Amplitude, Inc.</div></div></div></footer></div>
<script src="/Amplitude-JavaScript/styles.949f130f.js"></script>
<script src="/Amplitude-JavaScript/runtime~main.c11609e0.js"></script>
<script src="/Amplitude-JavaScript/main.47847b8a.js"></script>
<script src="/Amplitude-JavaScript/common.cfd7e764.js"></script>
<script src="/Amplitude-JavaScript/2.fe3dba2f.js"></script>
<script src="/Amplitude-JavaScript/12.7d2f843e.js"></script>
<script src="/Amplitude-JavaScript/dfcb7c4c.51d9558c.js"></script>
<script src="/Amplitude-JavaScript/17896441.f14cb58e.js"></script>
<script src="/Amplitude-JavaScript/77234ab5.fd498097.js"></script>
</body>
</html>